#%Module -*- tcl -*-
##
## dot modulefile
##
## R 3.2.0 compiled with GCC 4.9.2 + ATLAS
##
## Brian Alston Sept 2015 - removed atlas prereq
##

# New Legion modules layout

proc ModulesHelp { } {
    puts stderr "Adds R 3.2.0 and Bioconductor 3.2 GCC+ATLAS to your environment."
    puts stderr ""
    puts stderr "R is a language and environment for statistical computing and"
    puts stderr "graphics which provides a wide variety of statistical and"
    puts stderr "graphical techniques: linear and nonlinear modelling,"
    puts stderr "statistical tests, time series analysis, classification,"
    puts stderr "clustering, etc. "
    puts stderr ""
    puts stderr "This version of R has been compiled with GCC 4.9.2 and the ATLAS"
    puts stderr "high performance BLAS library."
    puts stderr ""
    puts stderr "Bioconductor is a set of R packages that provide tools for the analysis"
    puts stderr "and comprehension of high-throughput genomic data."
    puts stderr ""
    puts stderr "Directory: /shared/ucl/apps/R/R-3.2.0-ATLAS/"
}

module-whatis "Adds R 3.2.0 and Bioconductor 3.2 to your environment."

# Location of R:

set prefix /shared/ucl/apps/R/R-3.2.0-ATLAS

prereq gcc-libs
prereq compilers/gnu/4.9.2
# prereq atlas/3.10.2/gnu-4.9.2
prereq fftw/3.3.4/gnu-4.9.2
prereq ghostscript/9.16/gnu-4.9.2
prereq texinfo/5.2/gnu-4.9.2
prereq texlive/2014
prereq gsl/1.16/gnu-4.9.2
prereq hdf/5-1.8.15/gnu-4.9.2

# prereq curl/7.21.3/gnu.4.6.3
# prereq netcdf/4.2.1.1/gnu.4.6.3
# prereq root/5.34.09/gnu.4.6.3

prepend-path PATH		$prefix/bin
prepend-path MANPATH		$prefix/share/man
append-path  LD_LIBRARY_PATH	$prefix/lib64/R/lib
setenv 	     R_BROWSER		firefox

# Databases need to be stored on Lustre not NFS
setenv       R_LIBS_SITE	/home/ccspapp/Scratch/R/R-3.2.0-ATLAS/library

prepend-path CMAKE_PREFIX_PATH $prefix
